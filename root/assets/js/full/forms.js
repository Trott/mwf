mwf.forms=new function(){};mwf.forms.init=function(a){(function(f){var c=f.extend({selector:"form"},a);if(mwf.capability.input.placeholder()){g()}if(mwf.capability.input.required()){e()}if(mwf.capability.inputtypes.color()){h("color")}if(mwf.capability.inputtypes.search()){h("search")}if(mwf.capability.inputtypes.number()){d("number")}if(mwf.capability.inputtypes.tel()){h("tel")}if(mwf.capability.inputtypes.url()){h("url")}if(mwf.capability.inputtypes.email()){h("email")}if(mwf.capability.inputtypes.date()){b("date")}if(mwf.capability.inputtypes.month()){b("month")}if(mwf.capability.inputtypes.week()){b("week")}if(mwf.capability.inputtypes.datetime()){b("datetime")}if(mwf.capability.inputtypes.datetimelocal()){b("datetime-local")}if(mwf.capability.inputtypes.time()){b("time")}function e(){var i=f(c.selector).find("label,:input,div");f(c.selector+" .required").each(function(){var j=f(i.eq(i.index(this)+1));if(!j.is("div")){j.attr("required","required")}})}function g(){f(c.selector+" .placeholder").each(function(){f(this).prev(":input").attr("placeholder",f(this).html())})}function h(i){f(c.selector+" ."+i+"-field").each(function(){var j=f(this);var k=j.clone();k.attr("name",j.attr("name")+"-transform");k.attr("type",i);k.removeClass(i+"-field");k.addClass("simple-transform-field");k.insertAfter(j);j.addClass("hide");j.removeAttr("required")})}function d(i){f(c.selector+" ."+i+"-field").each(function(){var l=f(this);var k=l.find("option:first-child").attr("value");var j=l.find("option:last-child").attr("value");var m=l.find("option:nth-child(2)").attr("value");m-=k;var n=l.find("option:selected").attr("value");var o=f('<input type="'+i+'" />');o.attr("name",l.attr("name")+"-transform");o.attr("min",k);o.attr("max",j);o.attr("value",n);o.attr("step",m);o.addClass("range-transform-field");o.insertAfter(l);l.addClass("hide")})}function b(l){f(c.selector+" ."+l+"-field").each(function(){var p=f(this);var m=false;if(p.find(".offset-minute").size()>0){m=true}var I=false;if(p.find(".offset-hour").size()>0){I=true}var B=false;if(p.find(".offset").size()>0){B=true}var u=false;if(p.find(".second").size()>0){u=true}var n=false;if(p.find(".minute").size()>0){n=true}var o=false;if(p.find(".hour").size()>0){o=true}var C=false;if(p.find(".day").size()>0){C=true}var x=false;if(p.find(".week").size()>0){x=true}var v=false;if(p.find(".month").size()>0){v=true}var s=false;if(p.find(".year").size()>0){s=true}var A="00";if(m){A=i(p,"offset-minute")}var w="00";if(I){w=i(p,"offset-hour")}var E="+";if(B){E=i(p,"offset")}var G="00";if(u){G=i(p,"second")}var q="00";if(n){q=i(p,"minute")}var D="00";if(o){D=i(p,"hour")}var t="01";if(C){t=i(p,"day")}var r="01";if(x){r=i(p,"week")}var z="01";if(v){z=i(p,"month")}var H="1900";if(s){H=i(p,"year")}var F=f('<input type="'+l+'" />');var y="";if(s){y+=H}if(v){y+="-";y+=z}if(x){y+="-W";y+=r}if(C){y+="-";y+=t}if(l==="datetime-local"||l==="datetime"){y+="T"}if(o||n||u){y+=D+":"+q+":"+G}if(l==="datetime"){y+=E+w+":"+A}F.attr("name",p.attr("name")+"-transform");F.attr("value",y);F.removeClass(l+"-field");if(l==="time"){F.addClass("time-transform-field")}else{F.addClass("datetime-transform-field")}F.insertAfter(p);p.addClass("hide")});function j(m,n){return m.find("."+n+" option:first-child").attr("value")}function k(m,n){return m.find("."+n+" option:last-child").attr("value")}function i(m,n){return m.find("."+n+" option:selected").attr("value")}}f(c.selector+" .simple-transform-field").blur(function(){var i=f(this);i.prev().val(i.val())});f(c.selector+" .range-transform-field").blur(function(){var i=f(this);i.prev().val(i.val())});f(c.selector+" .datetime-transform-field").blur(function(){var j=f(this);var q=j.prev();q.find("option:selected").removeAttr("selected");var l=j.val().split("T");if(l.length==0){l=j.val().split(" ")}var p=l[0].split("-");q.find(".year").val(p[0]);if(p.length>1){if(p[1].lastIndexOf("W",0)===0){q.find(".week").val(p[1].substring(1,3))}else{q.find(".month").val(p[1])}}if(p.length>2){q.find(".day").val(p[2])}var n=false;var o=false;var m=false;var k=false;var i;if(l.length>1){n=true;i=l[1].split("Z");if(i.length>1){m=true}else{i=l[1].split("+");if(i.length>1){k=true}else{i=l[1].split("-")}}}if(i.length>1){o=true}if(n){p=i[0].split(":");q.find(".hour").val(p[0]);if(p.length>1){q.find(".minute").val(p[1]);q.find(".second").val("00")}if(p.length>2){q.find(".second").val(p[2].substring(0,2))}if(o){q.find(".offset").val("+");q.find(".offset-hour").val("00");q.find(".offset-minute").val("00");if(!m){if(!k){q.find(".offset").val("-")}p=i[1].split(":");q.find(".offset-hour").val(p[0]);q.find(".offset-minute").val(p[1])}}}});f(c.selector+" .time-transform-field").blur(function(){var j=f(this);var i=j.prev();i.find("option:selected").removeAttr("selected");var k=j.val().split(":");if(k.length>0){i.find(".hour").val(k[0])}if(k.length>1){i.find(".minute").val(k[1])}if(k.length>2){i.find(".second").val(k[2])}});f(c.selector).each(function(){f(this).validate({errorClass:"invalid",errorElement:"p",autoCreateRanges:true});f.validator.autoCreateRanges=true})})(jQuery)};