mwf.full.history=function(){var c=[];var a=[];var b=[];var d=function(){function g(p,l){var h;for(e=0;e<l.length;e++){h=document.getElementById(l[e]);if(h){h.setAttribute("style","display:none")}}var j=document.getElementById(p);var n=(mwf.userAgent.isNative()&&mwf.userAgent.getOS()=="android"&&p=="main_menu")?"display:inline":"display:block";if(j){j.setAttribute("style",n)}else{return false}var k=document.getElementById("header");var o=document.getElementById("footer");var m=document.getElementById("button-top");var i=p=="main_menu"?"":"display:block";if(m){if((p=="main_menu")||mwf.userAgent.isNative()){m.setAttribute("style","display:none")}else{m.setAttribute("style","display:inline")}}if(k){k.setAttribute("style",i)}if(o&&mwf.userAgent.isNative()&&mwf.userAgent.getOS()==="iphone_os"&&p==="main_menu"){o.setAttribute("style","display:none")}else{o.setAttribute("style","")}return true}if(!window.location.hash){window.location.hash="#/main_menu"}g(window.location.hash.substring(2),[]);if(!(history instanceof Object&&history.replaceState instanceof Function)){return}var f=document.getElementsByTagName("a");for(var e=0;e<f.length;e++){if((document.getElementById("il"+f[e].pathname)!=null)||(mwf.site.root==f[e].href.replace(/\/$/,""))){c.push(new mwf.full.lightningTouch(f[e],function(l){var i=(mwf.site.root==this.element.href.replace(/\/$/,""))?"main_menu":"il"+this.element.pathname;if(i=="il/main_menu"){i="main_menu"}var n=document.getElementById(i);if(n!=null){l.preventDefault();var h=document.getElementById(window.location.hash.substr(2));var k=h.getAttribute("id");g(i,[k]);var m=mwf.full.history.getState();var j=(m&&m.hasOwnProperty("hide"))?mwf.full.history.hideArray(m.hide,i):[i];mwf.full.history.saveState({show:k,hide:j},"");window.location.hash="#/"+i;m=mwf.full.history.getState();j=(m&&m.hasOwnProperty("hide"))?mwf.full.history.hideArray(m.hide,k):[k];mwf.full.history.saveState({show:i,hide:j},"");if(mwf.site.analytics){mwf.site.analytics.trackPageview(this.element.pathname)}}}))}}window.addEventListener("popstate",function(j){state=mwf.full.history.getState();if(state){g(state.show,state.hide)}if(j.state){var h;var i;for(e=0;e<j.state.hide.length;e++){h=mwf.full.history.getState(j.state.hide[e]);if(h){i=mwf.full.history.hideArray(h.hide,j.state.show);mwf.full.history.setState({show:j.state.hide[e],hide:i},location.pathname+"#/"+j.state.hide[e])}}g(j.state.show,j.state.hide)}},false)};document.addEventListener("DOMContentLoaded",d,false);return{setState:function(g,f){var e=b.indexOf(f);if(e<0){e=b.length;b.push(f)}a[e]=g},saveState:function(f,g,e){e=e?e:location.pathname+location.hash;this.setState(f,e);history.replaceState(f,g,e)},getState:function(f){url=f?location.pathname+"#/"+f:location.pathname+location.hash;var e=b.indexOf(url);return e<0?undefined:a[e]},hideArray:function(f,e){if(f.indexOf(e)<0){f.push(e)}return f}}}();