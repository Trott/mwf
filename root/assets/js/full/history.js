(function(){var f=[];var d=[];var e=[];var h=function(k,j){var i=e.indexOf(j);if(i<0){i=e.length;e.push(j)}d[i]=k};var b=function(j,k,i){i=i?i:location.pathname+location.hash;h(j,i);history.replaceState(j,k,i)};var c=function(j){url=j?location.pathname+"#/"+j:location.pathname+location.hash;var i=e.indexOf(url);return i<0?undefined:d[i]};var a=function(j,i){if(j.indexOf(i)<0){j.push(i)}return j};var g=function(){function l(i,n){var p;for(j=0;j<n.length;j++){p=document.getElementById(n[j]);if(p){p.setAttribute("style","display:none")}}var o=document.getElementById(i);var m=(mwf.userAgent.isNative()&&mwf.userAgent.getOS()=="android"&&i=="main_menu")?"display:inline":"display:block";if(o){o.setAttribute("style",m)}else{return false}return true}if(!window.location.hash){window.location.hash="#/main_menu"}l(window.location.hash.substring(2),[]);if(!(history instanceof Object&&history.replaceState instanceof Function)){return}var k=document.getElementsByTagName("a");this.touchHandler=function(p){var m=(mwf.site.root==this.element.href.replace(/\/$/,""))?"main_menu":"il"+this.element.pathname;if(m=="il/main_menu"){m="main_menu"}var r=document.getElementById(m);if(r!=null){p.preventDefault();var i=document.getElementById(window.location.hash.substr(2));var o=i?i.getAttribute("id"):"main_menu";l(m,[o]);var q=c();var n=(q&&q.hasOwnProperty("hide"))?a(q.hide,m):[m];b({show:o,hide:n},"");window.location.hash="#/"+m;q=c();n=(q&&q.hasOwnProperty("hide"))?a(q.hide,o):[o];b({show:m,hide:n},"");if(mwf.site.analytics){mwf.site.analytics.trackPageview(this.element.pathname)}}};for(var j=0;j<k.length;j++){if((document.getElementById("il"+k[j].pathname)!=null)||(mwf.site.root==k[j].href.replace(/\/$/,""))){f.push(new mwf.full.lightningTouch(k[j],this.touchHandler))}}this.popHandler=function(n){state=c();if(state){l(state.show,state.hide)}if(n.state){var i;var m;for(j=0;j<n.state.hide.length;j++){i=c(n.state.hide[j]);if(i){m=a(i.hide,n.state.show);h({show:n.state.hide[j],hide:m},location.pathname+"#/"+n.state.hide[j])}}l(n.state.show,n.state.hide)}};window.addEventListener("popstate",this.popHandler,false)};document.addEventListener("DOMContentLoaded",g,false)}());