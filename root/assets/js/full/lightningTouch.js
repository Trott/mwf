(function(){var b=function(k,l){this.element=k;this.handler=l;k.addEventListener("touchstart",this,false);k.addEventListener("click",this,false)};b.prototype.handleEvent=function(k){switch(k.type){case"touchstart":this.onTouchStart(k);break;case"touchmove":this.onTouchMove(k);break;case"touchend":this.onClick(k);break;case"click":this.onClick(k);break}};b.prototype.onTouchStart=function(k){k.stopPropagation();this.element.addEventListener("touchend",this,false);document.body.addEventListener("touchmove",this,false);this.startX=k.touches[0].clientX;this.startY=k.touches[0].clientY};b.prototype.onTouchMove=function(k){if(Math.abs(k.touches[0].clientX-this.startX)>10||Math.abs(k.touches[0].clientY-this.startY)>10){this.reset()}};b.prototype.onClick=function(k){k.stopPropagation();this.reset();this.handler(k)};b.prototype.reset=function(){this.element.removeEventListener("touchend",this,false);document.body.removeEventListener("touchmove",this,false)};var g=[],j=[],c=[],a;var e=function(m,l){var k=c.indexOf(l);if(k<0){k=c.length;c.push(l)}j[k]=m};var d=function(l,m,k){k=k||location.pathname+location.hash;e(l,k);history.replaceState(l,m,k)};var f=function(m){var l=m?location.pathname+"#/"+m:location.pathname+location.hash;var k=c.indexOf(l);return k<0?undefined:j[k]};var h=function(l,k){if(l.indexOf(k)<0){l.push(k)}return l};var i=function(){function m(n,p){var r,o;for(o=0;o<p.length;o++){r=document.getElementById(p[o]);if(r){r.setAttribute("style","display:none")}}var q=document.getElementById(n)||document.getElementById(a);if(q){q.setAttribute("style","display:block")}else{return false}return true}a=document.body.getAttribute("data-default-target-id")||"";if(!window.location.hash){window.location.hash="#/"+a}m(window.location.hash.substring(2),[]);if(!(history instanceof Object&&history.replaceState instanceof Function)){return}this.touchHandler=function(r){var o=this.element.getAttribute("data-target-id");var t=document.getElementById(o);if(t!==null){r.preventDefault();var n=document.getElementById(window.location.hash.substr(2));var q=n?n.getAttribute("id"):"/"+a;m(o,[q]);var s=f();var p=(s&&s.hasOwnProperty("hide"))?h(s.hide,o):[o];d({show:q,hide:p},"");window.location.hash="#/"+o;s=f();p=(s&&s.hasOwnProperty("hide"))?h(s.hide,q):[q];d({show:o,hide:p},"")}};var l=document.getElementsByTagName("a");for(var k=0;k<l.length;k++){if(l[k].getAttribute("data-target-id")!=null){g.push(new b(l[k],this.touchHandler))}}this.popHandler=function(p){state=f();if(state){m(state.show,state.hide)}if(p.state){var n;var o;for(k=0;k<p.state.hide.length;k++){n=f(p.state.hide[k]);if(n){o=h(n.hide,p.state.show);e({show:p.state.hide[k],hide:o},location.pathname+"#/"+p.state.hide[k])}}m(p.state.show,p.state.hide)}};window.addEventListener("popstate",this.popHandler,false)};document.addEventListener("DOMContentLoaded",i,false)}());