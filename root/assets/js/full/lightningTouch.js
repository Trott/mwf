(function(){var g=[],j=[],c=[],b,a,e,d,f,h,i;a=function(k,l){this.element=k;this.handler=l;k.addEventListener("touchstart",this,false);k.addEventListener("click",this,false)};a.prototype.handleEvent=function(k){switch(k.type){case"touchstart":this.onTouchStart(k);break;case"touchmove":this.onTouchMove(k);break;case"touchend":this.onClick(k);break;case"click":this.onClick(k);break}};a.prototype.onTouchStart=function(k){k.stopPropagation();this.element.addEventListener("touchend",this,false);document.body.addEventListener("touchmove",this,false);this.startX=k.touches[0].clientX;this.startY=k.touches[0].clientY};a.prototype.onTouchMove=function(k){if(Math.abs(k.touches[0].clientX-this.startX)>10||Math.abs(k.touches[0].clientY-this.startY)>10){this.reset()}};a.prototype.onClick=function(k){k.stopPropagation();this.reset();this.handler(k)};a.prototype.reset=function(){this.element.removeEventListener("touchend",this,false);document.body.removeEventListener("touchmove",this,false)};e=function(m,l){var k=c.indexOf(l);if(k<0){k=c.length;c.push(l)}j[k]=m};d=function(l,m,k){k=k||location.pathname+location.hash;e(l,k);history.replaceState(l,m,k)};f=function(m){var l=m?location.pathname+"#/"+m:location.pathname+location.hash,k=c.indexOf(l);return k<0?undefined:j[k]};h=function(l,k){if(l.indexOf(k)<0){l.push(k)}return l};i=function(){var l,k;function m(n,p){var r,q,o;for(o=0;o<p.length;o+=1){r=document.getElementById(p[o]);if(r){r.setAttribute("style","display:none")}}q=document.getElementById(n)||document.getElementById(b);if(q){q.setAttribute("style","display:block")}else{return false}return true}b=document.body.getAttribute("data-default-target-id")||"";if(!window.location.hash){window.location.hash="#/"+b}m(window.location.hash.substring(2),[]);if(!(history instanceof Object&&history.replaceState instanceof Function)){return}this.touchHandler=function(r){var o,t,n,q,s,p;o=this.element.getAttribute("data-target-id");t=document.getElementById(o);if(t!==null){r.preventDefault();n=document.getElementById(window.location.hash.substr(2));q=n?n.getAttribute("id"):"/"+b;m(o,[q]);s=f();p=(s&&s.hasOwnProperty("hide"))?h(s.hide,o):[o];d({show:q,hide:p},"");window.location.hash="#/"+o;s=f();p=(s&&s.hasOwnProperty("hide"))?h(s.hide,q):[q];d({show:o,hide:p},"")}};l=document.getElementsByTagName("a");for(k=0;k<l.length;k+=1){if(l[k].getAttribute("data-target-id")!==null){g.push(new a(l[k],this.touchHandler))}}this.popHandler=function(p){var q,n,o;q=f();if(q){m(q.show,q.hide)}if(p.state){for(k=0;k<p.state.hide.length;k+=1){n=f(p.state.hide[k]);if(n){o=h(n.hide,p.state.show);e({show:p.state.hide[k],hide:o},location.pathname+"#/"+p.state.hide[k])}}m(p.state.show,p.state.hide)}};window.addEventListener("popstate",this.popHandler,false)};document.addEventListener("DOMContentLoaded",i,false)}());