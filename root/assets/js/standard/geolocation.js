mwf.touch.geolocation=new function(){var b=-1;var a=null;var d=true;var c=3000;this.getType=function(){if(b<0){b=navigator.geolocation?1:google.gears?2:0}return b};this.getTypeName=function(){switch(this.getType()){case 1:return"HTML5 Geolocation";case 2:return"Google Gears";default:return"Unsupported"}};this.isSupported=function(){return this.getType()>0};this.getPosition=function(g,e){var f;switch(this.getType()){case 1:f=navigator.geolocation;break;case 2:f=google.gears.factory.create("beta.geolocation");break;default:mwf.touch.geolication.setError("No geolocation support available.");e("No geolocation support available.");return}f.getCurrentPosition(function(h){if(typeof g!="undefined"){g({latitude:h.coords.latitude,longitude:h.coords.longitude,accuracy:h.coords.accuracy})}},function(){if(typeof e!="undefined"){e("Google Gears Geolocation failure.")}},{enableHighAccuracy:d,maximumAge:c});return true};this.setTimeout=function(e){c=e};this.setHighAccuracy=function(e){d=e}};