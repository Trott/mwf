mwf.ucsfLayout=new function(){var b;var a;this.init=function(e){var f=document.getElementById("main_menu");if(f){if(mwf.standard.preferences.isSupported()){var c=mwf.standard.preferences.get("main_menu_layout");if(!c){c=mwf.userAgent.isNative()?"grid":"list"}switch(c){case"grid":var g=document.getElementById("header");if(g){g.setAttribute("style","display:none")}f.className+=" menu-grid";b=(mwf.browser.getWidth()?mwf.browser.getWidth():window.innerWidth);b=b-b%80;a=(mwf.browser.getHeight()?mwf.browser.getHeight():window.innerHeight);a=a-a%80;mwf.ucsfLayout.setGridWidth(b);window.addEventListener("orientationchange",mwf.ucsfLayout.rotateGrid,false);var d=document.getElementById("button-top");if(d!=null){d.setAttribute("style","display:none")}break;case"list":default:f.className+=" menu-padded"}}else{f.className+=" menu-padded"}}};this.setGridWidth=function(c){document.getElementById("main_menu").firstChild.setAttribute("style","width:"+c+"px")};this.rotateGrid=function(c){switch(window.orientation){case 0:case 180:mwf.ucsfLayout.setGridWidth(b);break;case -90:case 90:mwf.ucsfLayout.setGridWidth(a);break}}};document.addEventListener("DOMContentLoaded",mwf.ucsfLayout.init,false);