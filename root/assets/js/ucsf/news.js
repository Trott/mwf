ucsf.news=(function(){this.loadFromStorage=function(b){var c;if(Modernizr.localstorage){c=window.localStorage.getItem(b);if(c!==null){return JSON.parse(c)}}return{}};this.render=function(b,d,g,c){c=c||{};if(c.template){e=c.template}else{e=new Hogan.Template(function(l,k,j){var h=this;h.b(j=j||"");if(h.s(h.f("feed",l,k,1),l,k,0,9,313,"{{ }}")){h.rs(l,k,function(n,m,i){i.b('<div class="menu detailed"><h2>');i.b(i.v(i.f("title",n,m,0)));i.b("</h2><ol>");if(i.s(i.f("entries",n,m,1),n,m,0,70,290,"{{ }}")){i.rs(n,m,function(r,q,o){o.b('  <li>    <a class="no-ext-ind" rel="external" href="');o.b(o.v(o.f("link",r,q,0)));o.b('"><span class="external">');o.b(o.v(o.f("title",r,q,0)));o.b('</span>    <div class="smallprint light">');o.b(o.v(o.d("dateTime.date",r,q,0)));o.b('</div>    <div class="smallprint light">');o.b(o.v(o.d("dateTime.time",r,q,0)));o.b("</div></a>")});n.pop()}i.b("</ol></div>")});l.pop()}if(!h.s(h.f("feed",l,k,1),l,k,1,0,0,"")){h.b('<div class="content"><p>News feed could not be loaded.</p></div>')}return h.fl()})}var f,e;f=new google.feeds.Feed(g);if(c.numEntries){f.setNumEntries(c.numEntries)}f.load(function(q){var k,h,p,n,o,j,l,m={};if(!q.error){m={feed:this.feed};for(k=0;k<m.feed.entries.length;k=k+1){h=m.feed.entries[k];p={};n=new Date(h.publishedDate);p.date=n.toLocaleDateString();if(c.showTime){j=n.getMinutes();if(j<10){j="0"+j}o=n.getHours();l=o<12?"AM":"PM";if(o>12){o=o-12}if(o===0){o=12}p.time=o+":"+j+" "+l}h.dateTime=p}if(Modernizr.localstorage){window.localStorage.setItem(d,JSON.stringify(m))}}else{m=ucsf.news.loadFromStorage(d)}b.innerHTML=e.render(m)})};this.headlines=function(b,d,e,c){if(typeof google!=="undefined"){if(typeof google.feeds=="undefined"){google.load("feeds","1",{nocss:true,callback:function(){ucsf.news.render(b,d,e,c)}})}else{this.render(b,d,e,c)}}else{b.innerHTML=template.render(ucsf.news.loadFromStorage(d))}};var a=document.createElement("script");a.src="//www.google.com/jsapi";document.getElementsByTagName("head")[0].appendChild(a);return this}());